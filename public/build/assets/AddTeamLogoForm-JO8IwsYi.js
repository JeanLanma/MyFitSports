import{p as M,r as x,T,o as m,c as j,L as E,w as n,b,e as i,u as o,n as y,a as e,h as c,k as N,q as $,d as z,t as g,g as k,M as A,N as F}from"./app-N_xiM9gR.js";import{_ as O}from"./ActionMessage-DFl5Sh0W.js";import{_ as V}from"./FormSection-CQ4_aGbF.js";import{_ as q}from"./PrimaryButton-DhZrb2Gu.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SectionTitle-BWmmVXJl.js";const a=l=>(A("data-v-d6ba3944"),l=l(),F(),l),U={class:"col-span-6 p-8 w-full flex flex-col"},G=a(()=>e("p",{class:"mb-3 font-semibold text-gray-900 flex flex-wrap justify-center"},[e("span",null,"Arrastre y suelte su"),i("Â "),e("span",null,"imagen donde sea o")],-1)),H=a(()=>e("h1",{class:"pt-8 pb-3 font-semibold sm:text-lg text-gray-900"}," Imagenes subidas ",-1)),J={class:"flex flex-1 flex-wrap -m-1"},K=a(()=>e("li",{id:"empty",class:"h-full w-full text-center flex flex-col items-center justify-center"},[e("img",{class:"mx-auto w-32",src:"https://user-images.githubusercontent.com/507615/54591670-ac0a0180-4a65-11e9-846c-e55ffce0fe7b.png",alt:"no data"}),e("span",{class:"text-small text-gray-500"},"No se ha seleccionado ninguna imagen")],-1)),P=[K],Q={key:0,class:"col-span-6"},W={class:"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8"},X={tabindex:"0",class:"group hasImage w-full rounded-md focus:outline-none focus:shadow-outline bg-gray-100 cursor-pointer relative text-transparent hover:text-white shadow-sm"},Y=["src"],Z={class:"flex flex-col rounded-md text-xs break-words w-full h-full z-20 absolute top-0 py-2 px-3"},ee={class:"flex-1"},se={class:"flex"},te=a(()=>e("span",{class:"p-1"},[e("i",null,[e("svg",{class:"fill-current w-4 h-4 ml-auto pt-",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{d:"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z"})])])],-1)),oe={class:"p-1 size text-xs"},ae=a(()=>e("svg",{class:"pointer-events-none fill-current w-4 h-4 ml-auto",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{class:"pointer-events-none",d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"})],-1)),le=[ae],ne={key:1,class:"col-span-6"},re={class:"block p-1 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 xl:w-1/8"},ce={tabindex:"0",class:"group hasImage w-full rounded-md focus:outline-none focus:shadow-outline bg-gray-100 cursor-pointer relative text-transparent hover:text-white shadow-sm"},ie=["src"],de={class:"flex flex-col rounded-md text-xs break-words w-full h-full min-h-[4rem] z-20 absolute top-0 py-2 px-3"},ue=a(()=>e("h1",{class:"flex-1"},"Imagen actual",-1)),me={class:"flex"},ge=a(()=>e("span",{class:"p-1"},[e("i",null,[e("svg",{class:"fill-current w-4 h-4 ml-auto pt-",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{d:"M5 8.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5zm9 .5l-2.519 4-2.481-1.96-4 5.96h14l-5-8zm8-4v14h-20v-14h20zm2-2h-24v18h24v-18z"})])])],-1)),he={class:"p-1 size text-xs"},pe=a(()=>e("svg",{class:"pointer-events-none fill-current w-4 h-4 ml-auto",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{class:"pointer-events-none",d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"})],-1)),_e=[pe],fe={__name:"AddTeamLogoForm",props:{team:Object},setup(l){const h=(s=!1)=>s,d=M(),p=l,_=x(null),t=T({name:p.team.name,image:null,image_src:null,image_name:p.team.name,image_size:null}),S=s=>{t.image=s.target.files[0],t.image_src=t.image,f(t.image_src)},D=()=>{t.post(route("media.upload.team.logo"),{preserveScroll:!0,onSuccess:()=>{u(),d("Logo subido correctamente",{type:"success",timeout:3e3})},onError:s=>{u(),d("Error al subir el logo",{type:"error",timeout:3e3}),console.log(s)}})},f=s=>{t.image_src=URL.createObjectURL(s),t.image_name=s.name.length>20?s.name.substring(0,20)+"...":s.name,t.image_size=s.size>1024?s.size>1048576?Math.round(s.size/1048576)+"mb":Math.round(s.size/1024)+"kb":s.size+"b"},u=()=>{h()?v():(t.image=null,t.image_src=null,t.image_name=null,t.image_size=null)},v=()=>{t.delete(route("media.reset.team.logo"),{preserveScroll:!0,onSuccess:()=>{d("Logo eliminado correctamente",{type:"success",timeout:3e3}),setTimeout(()=>{window.location.reload()},4e3)},onError:s=>{d("Error al eliminar el logo",{type:"error",timeout:3e3}),console.log("error",s)}})},I=s=>{s.preventDefault(),r.value=!1,t.image_src=s.dataTransfer.files[0],f(t.image_src)},r=x(!1),L=s=>{s.preventDefault(),r.value=!0},B=s=>{s.preventDefault(),r.value=!0},C=s=>{s.preventDefault(),r.value=!1};return(s,w)=>(m(),j(V,{onSubmitted:D},E({title:n(()=>[i(" Agregar logo de la agencia ")]),description:n(()=>[i(" Sube una imagen que idefintifique a la agencia, la imagen debe ser de 301 pixeles de ancho y 121 pixeles de alto. ")]),form:n(()=>[e("section",U,[e("header",{onDrop:c(I,["prevent"]),onDragover:c(L,["prevent"]),onDragenter:c(B,["prevent"]),onDragleave:c(C,["prevent"]),class:y([{"bg-blue-100 border-blue-300":r.value},"border-dashed border-2 border-gray-400 py-12 flex flex-col justify-center items-center"])},[G,e("input",{ref_key:"imgInput",ref:_,onChange:S,id:"hidden-input",type:"file",multiple:"",class:"hidden"},null,544),e("button",{type:"button",onClick:w[0]||(w[0]=ve=>_.value.click()),class:"mt-2 rounded-sm px-3 py-1 bg-gray-200 hover:bg-gray-300 focus:shadow-outline focus:outline-none"}," Subir imagen ")],34),H,N(e("ul",J,P,512),[[$,o(t).image_src==null]]),o(t).image_src?(m(),z("section",Q,[e("li",W,[e("article",X,[e("img",{src:o(t).image_src,alt:"upload preview",class:"img-preview w-full h-full sticky object-cover rounded-md bg-fixed"},null,8,Y),e("section",Z,[e("h1",ee,g(o(t).image_name),1),e("div",se,[te,e("p",oe,g(o(t).image_size),1),e("button",{onClick:u,class:"delete ml-auto focus:outline-none hover:text-red-500 hover:bg-gray-300 p-1 rounded-md"},le)])])])])])):k("",!0),!h()&&o(t).image==null?(m(),z("section",ne,[e("li",re,[e("article",ce,[e("img",{src:`/storage/${l.team.logo}`,alt:"upload preview",class:"img-preview w-full h-full sticky object-cover rounded-md bg-fixed"},null,8,ie),e("section",de,[ue,e("div",me,[ge,e("p",he,g(o(t).image_size),1),e("button",{type:"button",onClick:c(v,["prevent"]),class:"delete ml-auto focus:outline-none hover:text-red-500 hover:bg-gray-300 p-1 rounded-md"},_e)])])])])])):k("",!0)])]),_:2},[{name:"actions",fn:n(()=>[b(O,{on:o(t).recentlySuccessful,class:"mr-3"},{default:n(()=>[i(" Guardado. ")]),_:1},8,["on"]),b(q,{class:y({"opacity-25":o(t).processing}),disabled:o(t).processing},{default:n(()=>[i(" Subir logo ")]),_:1},8,["class","disabled"])]),key:"0"}]),1024))}},Se=R(fe,[["__scopeId","data-v-d6ba3944"]]);export{Se as default};
