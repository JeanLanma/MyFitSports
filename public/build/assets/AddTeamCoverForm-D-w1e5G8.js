import{_ as w}from"./FormSection-C9jE4rev.js";import{r as m,T as x,o as i,c as k,w as u,e as a,a as e,u as r,d as v,t as l,F as y,g}from"./app-3fbTX44C.js";import{P as C}from"./TeamsService-Z9qRd_E0.js";import"./SectionTitle-CMmD71g0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z=["v-model"],B={class:"col-span-6 md:col-span-3"},P=["value"],F=e("h3",{class:"text-xl font-bold text-gray-600 group-hover:text-gray-900"}," Subir una imagen ",-1),H=e("svg",{class:"w-16 h-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),O={class:"col-span-6 md:col-span-3"},S={key:0,class:"mt-4 md:mt-0"},j={class:"w-full relative group"},I=["src"],T={class:"hidden group-hover:block"},L={class:"absolute bottom-0 bg-white px-4 w-full"},M={class:"font-bold"},D={__name:"AddTeamCoverForm",props:{team:{type:Object,default:()=>({cover:null,id:null})}},setup(h){const n=h,d=m(null),o=m({name:null,size:null,preview:((t=null)=>n.team.cover!=null&&t==null?C(n.team.cover):t)()}),s=x({cover:null,id:n.team.id}),_=t=>{s.cover=t.target.files[0],b(s.cover)},b=t=>{o.value.preview=URL.createObjectURL(t),o.value.name=t.name.length>20?t.name.substring(0,20)+"...":t.name,o.value.size=t.size>1024?t.size>1048576?Math.round(t.size/1048576)+"mb":Math.round(t.size/1024)+"kb":t.size+"b",p()},f=()=>{s.reset(),o.value.preview=null,o.value.name=null,o.value.size=null},p=()=>{s.post(route("teams.store"),{preserveScroll:!0,onSuccess:()=>{toast.success("Imagen actualizada exitosamente.",{position:"top-right",timeout:2e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0})}})};return console.log(n.team),(t,c)=>(i(),k(w,{onSubmitted:p},{title:u(()=>[a(" Agregar una imagen ")]),description:u(()=>[a(" Puedes aÃ±adir una imagen ")]),form:u(()=>[e("input",{onChange:_,ref_key:"fileInput",ref:d,"v-model":r(s).cover,type:"file",name:"file",id:"file",class:"hidden"},null,40,z),e("div",B,[e("div",{onClick:c[0]||(c[0]=R=>d.value.click()),class:"border border-dashed border-gray-400 rounded-md h-full text-center flex flex-col justify-center items-center py-8 hover:border-gray-700 hover:cursor-pointer group"},[r(s).progress?(i(),v(y,{key:0},[a(l(r(s).progress.percentage)+"% ",1),e("progress",{value:r(s).progress.percentage,max:"100"},[e("span",null,"Progeso: "+l(r(s).progress.percentage)+"%",1)],8,P)],64)):g("",!0),F,H])]),e("div",O,[o.value.preview?(i(),v("div",S,[e("article",j,[e("img",{src:o.value.preview,alt:"preview",class:"rounded-md w-full"},null,8,I),e("section",{class:"hidden group-hover:block"},[e("p",{class:"absolute top-0 bg-red-500 w-full hover:bg-red-800"},[e("button",{onClick:f,class:"px-4 py-2 font-bold text-white rounded-md text-center w-full"}," Eliminar ")])]),e("section",T,[e("p",L,[e("span",null,l(o.value.name),1),a(" - "),e("span",M,l(o.value.size),1)])])])])):g("",!0)])]),_:1}))}};export{D as default};
