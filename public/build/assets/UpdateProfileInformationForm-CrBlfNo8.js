import{p as R,T as L,r as h,o as g,c as N,w as u,e as m,d as j,a as l,b as s,k as v,q as _,s as M,h as y,g as V,u as o,i as Q,n as H,O as J}from"./app-C6x2t_i7.js";import{_ as q}from"./SecondaryButton-D2wEsEX7.js";import{_ as K}from"./PrimaryButton-grX9VYb-.js";import{_ as W}from"./ActionMessage-DN4ZJsMT.js";import{_ as X}from"./FormSection-CmRrvP0c.js";import{_ as i}from"./InputError-DYG65aTa.js";import{_ as c}from"./InputLabel-Df96CzpL.js";import{_ as d}from"./TextInput-n2Jaf0xf.js";import"./SectionTitle-B66J5Y-i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={key:0,class:"col-span-6 sm:col-span-4"},Z={class:"mt-2"},ee=["src","alt"],se={class:"mt-2"},oe={class:"col-span-6 sm:col-span-4"},le={class:"col-span-6 sm:col-span-4"},ae={key:0},te={class:"text-sm mt-2"},ne={class:"mt-2 font-medium text-sm text-green-600"},re={class:"col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-4"},ce={class:"col-span-6 py-3 sm:col-span-4 grid grid-cols-6 gap-6"},ue={class:"col-span-6 sm:col-span-3"},de={class:"col-span-6 sm:col-span-3"},me={id:"gender",name:"gender",autocomplete:"gender",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},pe=["selected"],fe=["selected"],ge={class:"col-span-6 py-3 sm:col-span-4 grid grid-cols-6 gap-6"},he={class:"col-span-6 sm:col-span-3"},ve={class:"col-span-6 sm:col-span-3"},_e={class:"col-span-6 sm:col-span-3"},ye={class:"col-span-6 sm:col-span-4"},$e={__name:"UpdateProfileInformationForm",props:{customer:Object},setup(B){var k,P,U,S,z,C,x,$,I,T;const D=R(),r=B;console.log(r.customer);const e=L({_method:"POST",name:((k=r.customer)==null?void 0:k.name)??null,email:((P=r.customer)==null?void 0:P.email)??null,phone:((U=r.customer)==null?void 0:U.phone)??null,address:((S=r.customer)==null?void 0:S.address)??null,age:((z=r.customer)==null?void 0:z.age)??null,weight:((C=r.customer)==null?void 0:C.weight)??null,height:((x=r.customer)==null?void 0:x.height)??null,gender:(($=r.customer)==null?void 0:$.gender)??null,size:((I=r.customer)==null?void 0:I.size)??null,activity:((T=r.customer)==null?void 0:T.activity)??null,status:null,photo:null}),b=h(null),f=h(null),p=h(null),F=()=>{p.value&&(e.photo=p.value.files[0]),e.post(route("customers.store"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>{w(),e.reset(),D.success("Cliente registrado con éxito.")}})},A=()=>{b.value=!0},E=()=>{p.value.click()},O=()=>{const n=p.value.files[0];if(!n)return;const a=new FileReader;a.onload=t=>{f.value=t.target.result},a.readAsDataURL(n)},G=()=>{J.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{f.value=null,w()}})},w=()=>{var n;(n=p.value)!=null&&n.value&&(p.value.value=null)};return(n,a)=>(g(),N(X,{onSubmitted:F},{title:u(()=>[m(" Información de perfil ")]),description:u(()=>[m(" Registra la información del cliente para poder ofrecer un mejor servicio. ")]),form:u(()=>[n.$page.props.jetstream.managesProfilePhotos?(g(),j("div",Y,[l("input",{id:"photo",ref_key:"photoInput",ref:p,type:"file",class:"hidden",onChange:O},null,544),s(c,{for:"photo",value:"Foto"}),v(l("div",Z,[l("img",{src:n.user.profile_photo_url,alt:n.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,ee)],512),[[_,!f.value]]),v(l("div",se,[l("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:M("background-image: url('"+f.value+"');")},null,4)],512),[[_,f.value]]),s(q,{class:"mt-2 me-2",type:"button",onClick:y(E,["prevent"])},{default:u(()=>[m(" Seleccione una nueva foto ")]),_:1}),n.user.profile_photo_path?(g(),N(q,{key:0,type:"button",class:"mt-2",onClick:y(G,["prevent"])},{default:u(()=>[m(" Quitar foto ")]),_:1})):V("",!0),s(i,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):V("",!0),l("div",oe,[s(c,{for:"name",value:"Nombre"}),s(d,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":a[0]||(a[0]=t=>o(e).name=t),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),s(i,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),l("div",le,[s(c,{for:"email",value:"Correo electrónico"}),s(d,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":a[1]||(a[1]=t=>o(e).email=t),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),s(i,{message:o(e).errors.email,class:"mt-2"},null,8,["message"]),n.$page.props.jetstream.hasEmailVerification&&n.user.email_verified_at===null?(g(),j("div",ae,[l("p",te,[m(" Tu dirección de correo electrónico no está verificada. "),s(o(Q),{href:n.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:y(A,["prevent"])},{default:u(()=>[m(" De click aquí para solicitar un enlace de verificación ")]),_:1},8,["href"])]),v(l("div",ne," Una nueva verificación ha sido enviada a tu dirección de correo electrónico. ",512),[[_,b.value]])])):V("",!0)]),l("div",re,[s(c,{for:"phone",value:"Teléfono"}),s(d,{id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":a[2]||(a[2]=t=>o(e).phone=t),type:"text",class:"mt-1 block w-full",autocomplete:"tel"},null,8,["modelValue"]),s(i,{message:o(e).errors.phone,class:"mt-2"},null,8,["message"])]),l("div",ie,[s(c,{for:"address",value:"Dirección"}),s(d,{id:"address",modelValue:o(e).address,"onUpdate:modelValue":a[3]||(a[3]=t=>o(e).address=t),type:"text",class:"mt-1 block w-full",autocomplete:"address",placeholder:"Calle, número, colonia, ciudad, estado, código postal"},null,8,["modelValue"]),s(i,{message:o(e).errors.address,class:"mt-2"},null,8,["message"])]),l("div",ce,[l("div",ue,[s(c,{for:"age",value:"Edad"}),s(d,{id:"age",modelValue:o(e).age,"onUpdate:modelValue":a[4]||(a[4]=t=>o(e).age=t),type:"number",class:"mt-1 block w-full",autocomplete:"age",placeholder:"Años"},null,8,["modelValue"]),s(i,{message:o(e).errors.age,class:"mt-2"},null,8,["message"])]),l("div",de,[s(c,{for:"gender",value:"Genero"}),l("select",me,[l("option",{value:"masculino",selected:o(e).gender=="masculino"},"Masculino",8,pe),l("option",{value:"fenemino",selected:o(e).gender=="fenemino"},"Fenemino",8,fe)]),s(i,{message:o(e).errors.gender,class:"mt-2"},null,8,["message"])])]),l("div",ge,[l("div",he,[s(c,{for:"weight",value:"Peso"}),s(d,{id:"weight",modelValue:o(e).weight,"onUpdate:modelValue":a[5]||(a[5]=t=>o(e).weight=t),type:"text",class:"mt-1 block w-full",autocomplete:"weight",placeholder:"kg"},null,8,["modelValue"]),s(i,{message:o(e).errors.weight,class:"mt-2"},null,8,["message"])]),l("div",ve,[s(c,{for:"height",value:"Altura"}),s(d,{id:"height",modelValue:o(e).height,"onUpdate:modelValue":a[6]||(a[6]=t=>o(e).height=t),type:"number",class:"mt-1 block w-full",autocomplete:"height",placeholder:"cm"},null,8,["modelValue"]),s(i,{message:o(e).errors.height,class:"mt-2"},null,8,["message"])]),l("div",_e,[s(c,{for:"size",value:"Talla"}),s(d,{id:"size",modelValue:o(e).size,"onUpdate:modelValue":a[7]||(a[7]=t=>o(e).size=t),type:"number",class:"mt-1 block w-full",autocomplete:"size",placeholder:"cm"},null,8,["modelValue"]),s(i,{message:o(e).errors.size,class:"mt-2"},null,8,["message"])])]),l("div",ye,[s(c,{for:"activity",value:"Actividad fisica"}),s(d,{id:"activity",modelValue:o(e).activity,"onUpdate:modelValue":a[8]||(a[8]=t=>o(e).activity=t),type:"text",class:"mt-1 block w-full",autocomplete:"activity",placeholder:"Deporte que practica"},null,8,["modelValue"]),s(i,{message:o(e).errors.activity,class:"mt-2"},null,8,["message"])])]),actions:u(()=>[s(W,{on:o(e).recentlySuccessful,class:"me-3"},{default:u(()=>[m(" Guardado. ")]),_:1},8,["on"]),s(K,{class:H({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:u(()=>[m(" Guardar ")]),_:1},8,["class","disabled"])]),_:1}))}};export{$e as default};
