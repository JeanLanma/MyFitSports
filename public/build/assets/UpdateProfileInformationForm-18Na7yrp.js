import{s as R,T as L,r as v,o as g,c as N,w as m,e as d,d as j,a as t,b as s,k as h,x as _,y as M,h as V,g as y,u as l,i as Q,n as H,O as J}from"./app-CwLFubu_.js";import{_ as K}from"./ActionMessage-B36KDz15.js";import{_ as W}from"./FormSection-CoCU78gn.js";import{a as i,_ as u}from"./TextInput-C3kDJ56p.js";import{_ as c}from"./InputLabel-CDbgFFbG.js";import{_ as X}from"./PrimaryButton-DEP6GBP2.js";import{_ as B}from"./SecondaryButton-C-oZskgB.js";import"./SectionTitle-BiKmqfwp.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={key:0,class:"col-span-6 sm:col-span-4"},Z={class:"mt-2"},ee=["src","alt"],se={class:"mt-2"},le={class:"col-span-6 sm:col-span-4"},oe={class:"col-span-6 sm:col-span-4"},ae={key:0},te={class:"text-sm mt-2"},re={class:"mt-2 font-medium text-sm text-green-600"},ne={class:"col-span-6 sm:col-span-4"},ie={class:"col-span-6 sm:col-span-4"},ce={class:"col-span-6 py-3 sm:col-span-4 grid grid-cols-6 gap-6"},ue={class:"col-span-6 sm:col-span-3"},me={class:"col-span-6 sm:col-span-3"},de={class:"col-span-6 py-3 sm:col-span-4 grid grid-cols-6 gap-6"},pe={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"},ge={class:"col-span-6 sm:col-span-3"},ve={class:"col-span-6 sm:col-span-4"},xe={__name:"UpdateProfileInformationForm",props:{customer:Object},setup(D){var k,P,U,x,S,z,C,$,I,T;const F=R(),n=D;console.log(n.customer);const e=L({_method:"POST",name:((k=n.customer)==null?void 0:k.name)??null,email:((P=n.customer)==null?void 0:P.email)??null,phone:((U=n.customer)==null?void 0:U.phone)??null,address:((x=n.customer)==null?void 0:x.address)??null,age:((S=n.customer)==null?void 0:S.age)??null,weight:((z=n.customer)==null?void 0:z.weight)??null,height:((C=n.customer)==null?void 0:C.height)??null,gender:(($=n.customer)==null?void 0:$.gender)??null,size:((I=n.customer)==null?void 0:I.size)??null,activity:((T=n.customer)==null?void 0:T.activity)??null,status:null,photo:null}),w=v(null),f=v(null),p=v(null),O=()=>{p.value&&(e.photo=p.value.files[0]),e.post(route("customers.store"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>{b(),e.reset(),F.success("Cliente registrado con éxito.")}})},q=()=>{w.value=!0},A=()=>{p.value.click()},E=()=>{const r=p.value.files[0];if(!r)return;const o=new FileReader;o.onload=a=>{f.value=a.target.result},o.readAsDataURL(r)},G=()=>{J.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{f.value=null,b()}})},b=()=>{var r;(r=p.value)!=null&&r.value&&(p.value.value=null)};return(r,o)=>(g(),N(W,{onSubmitted:O},{title:m(()=>[d(" Información de perfil ")]),description:m(()=>[d(" Registra la información del cliente para poder ofrecer un mejor servicio. ")]),form:m(()=>[r.$page.props.jetstream.managesProfilePhotos?(g(),j("div",Y,[t("input",{id:"photo",ref_key:"photoInput",ref:p,type:"file",class:"hidden",onChange:E},null,544),s(c,{for:"photo",value:"Foto"}),h(t("div",Z,[t("img",{src:r.user.profile_photo_url,alt:r.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,ee)],512),[[_,!f.value]]),h(t("div",se,[t("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:M("background-image: url('"+f.value+"');")},null,4)],512),[[_,f.value]]),s(B,{class:"mt-2 me-2",type:"button",onClick:V(A,["prevent"])},{default:m(()=>[d(" Seleccione una nueva foto ")]),_:1}),r.user.profile_photo_path?(g(),N(B,{key:0,type:"button",class:"mt-2",onClick:V(G,["prevent"])},{default:m(()=>[d(" Quitar foto ")]),_:1})):y("",!0),s(i,{message:l(e).errors.photo,class:"mt-2"},null,8,["message"])])):y("",!0),t("div",le,[s(c,{for:"name",value:"Nombre"}),s(u,{id:"name",modelValue:l(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>l(e).name=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),s(i,{message:l(e).errors.name,class:"mt-2"},null,8,["message"])]),t("div",oe,[s(c,{for:"email",value:"Correo electrónico"}),s(u,{id:"email",modelValue:l(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>l(e).email=a),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),s(i,{message:l(e).errors.email,class:"mt-2"},null,8,["message"]),r.$page.props.jetstream.hasEmailVerification&&r.user.email_verified_at===null?(g(),j("div",ae,[t("p",te,[d(" Tu dirección de correo electrónico no está verificada. "),s(l(Q),{href:r.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:V(q,["prevent"])},{default:m(()=>[d(" De click aquí para solicitar un enlace de verificación ")]),_:1},8,["href"])]),h(t("div",re," Una nueva verificación ha sido enviada a tu dirección de correo electrónico. ",512),[[_,w.value]])])):y("",!0)]),t("div",ne,[s(c,{for:"phone",value:"Teléfono"}),s(u,{id:"phone",modelValue:l(e).phone,"onUpdate:modelValue":o[2]||(o[2]=a=>l(e).phone=a),type:"text",class:"mt-1 block w-full",autocomplete:"tel"},null,8,["modelValue"]),s(i,{message:l(e).errors.phone,class:"mt-2"},null,8,["message"])]),t("div",ie,[s(c,{for:"address",value:"Dirección"}),s(u,{id:"address",modelValue:l(e).address,"onUpdate:modelValue":o[3]||(o[3]=a=>l(e).address=a),type:"text",class:"mt-1 block w-full",autocomplete:"address",placeholder:"Calle, número, colonia, ciudad, estado, código postal"},null,8,["modelValue"]),s(i,{message:l(e).errors.address,class:"mt-2"},null,8,["message"])]),t("div",ce,[t("div",ue,[s(c,{for:"age",value:"Edad"}),s(u,{id:"age",modelValue:l(e).age,"onUpdate:modelValue":o[4]||(o[4]=a=>l(e).age=a),type:"number",class:"mt-1 block w-full",autocomplete:"age",placeholder:"Años"},null,8,["modelValue"]),s(i,{message:l(e).errors.age,class:"mt-2"},null,8,["message"])]),t("div",me,[s(c,{for:"gender",value:"Genero"}),s(u,{id:"gender",modelValue:l(e).gender,"onUpdate:modelValue":o[5]||(o[5]=a=>l(e).gender=a),type:"text",class:"mt-1 block w-full",autocomplete:"gender",placeholder:"Masculino, Femenino, Otro..."},null,8,["modelValue"]),s(i,{message:l(e).errors.gender,class:"mt-2"},null,8,["message"])])]),t("div",de,[t("div",pe,[s(c,{for:"weight",value:"Peso"}),s(u,{id:"weight",modelValue:l(e).weight,"onUpdate:modelValue":o[6]||(o[6]=a=>l(e).weight=a),type:"text",class:"mt-1 block w-full",autocomplete:"weight",placeholder:"kg"},null,8,["modelValue"]),s(i,{message:l(e).errors.weight,class:"mt-2"},null,8,["message"])]),t("div",fe,[s(c,{for:"height",value:"Altura"}),s(u,{id:"height",modelValue:l(e).height,"onUpdate:modelValue":o[7]||(o[7]=a=>l(e).height=a),type:"number",class:"mt-1 block w-full",autocomplete:"height",placeholder:"cm"},null,8,["modelValue"]),s(i,{message:l(e).errors.height,class:"mt-2"},null,8,["message"])]),t("div",ge,[s(c,{for:"size",value:"Talla"}),s(u,{id:"size",modelValue:l(e).size,"onUpdate:modelValue":o[8]||(o[8]=a=>l(e).size=a),type:"number",class:"mt-1 block w-full",autocomplete:"size",placeholder:"cm"},null,8,["modelValue"]),s(i,{message:l(e).errors.size,class:"mt-2"},null,8,["message"])])]),t("div",ve,[s(c,{for:"activity",value:"Actividad fisica"}),s(u,{id:"activity",modelValue:l(e).activity,"onUpdate:modelValue":o[9]||(o[9]=a=>l(e).activity=a),type:"text",class:"mt-1 block w-full",autocomplete:"activity",placeholder:"Deporte que practica"},null,8,["modelValue"]),s(i,{message:l(e).errors.activity,class:"mt-2"},null,8,["message"])])]),actions:m(()=>[s(K,{on:l(e).recentlySuccessful,class:"me-3"},{default:m(()=>[d(" Guardado. ")]),_:1},8,["on"]),s(X,{class:H({"opacity-25":l(e).processing}),disabled:l(e).processing},{default:m(()=>[d(" Guardar ")]),_:1},8,["class","disabled"])]),_:1}))}};export{xe as default};
