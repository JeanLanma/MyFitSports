import{r as p,K as y,o as C,d as h,a as u,m as k,b as o,w as r,e as a,t as c,A as v,n as b,l as x}from"./app-C6x2t_i7.js";import{_ as P}from"./DialogModal-BZbMt67c.js";import{_ as V}from"./InputError-DYG65aTa.js";import{_ as $}from"./PrimaryButton-grX9VYb-.js";import{_ as S}from"./SecondaryButton-D2wEsEX7.js";import{_ as B}from"./TextInput-n2Jaf0xf.js";const K={class:"mt-4"},E={__name:"ConfirmsPassword",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(t,{emit:w}){const m=w,n=p(!1),s=y({password:"",error:"",processing:!1}),i=p(null),_=()=>{axios.get(route("password.confirmation")).then(e=>{e.data.confirmed?m("confirmed"):(n.value=!0,setTimeout(()=>i.value.focus(),250))})},d=()=>{s.processing=!0,axios.post(route("password.confirm"),{password:s.password}).then(()=>{s.processing=!1,l(),x().then(()=>m("confirmed"))}).catch(e=>{s.processing=!1,s.error=e.response.data.errors.password[0],i.value.focus()})},l=()=>{n.value=!1,s.password="",s.error=""};return(e,f)=>(C(),h("span",null,[u("span",{onClick:_},[k(e.$slots,"default")]),o(P,{show:n.value,onClose:l},{title:r(()=>[a(c(t.title),1)]),content:r(()=>[a(c(t.content)+" ",1),u("div",K,[o(B,{ref_key:"passwordInput",ref:i,modelValue:s.password,"onUpdate:modelValue":f[0]||(f[0]=g=>s.password=g),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",autocomplete:"current-password",onKeyup:v(d,["enter"])},null,8,["modelValue"]),o(V,{message:s.error,class:"mt-2"},null,8,["message"])])]),footer:r(()=>[o(S,{onClick:l},{default:r(()=>[a(" Cancel ")]),_:1}),o($,{class:b(["ms-3",{"opacity-25":s.processing}]),disabled:s.processing,onClick:d},{default:r(()=>[a(c(t.button),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{E as _};
