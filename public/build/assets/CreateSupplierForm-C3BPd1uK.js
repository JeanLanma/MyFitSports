import{z as A,T as k,r as V,o as c,d as u,a as s,b as a,w as m,e as C,u as o,k as _,y,F as S,f as D,t as N,x as $,g as f,n as F,O as L,L as O}from"./app-C6HXOF5x.js";import{_ as M}from"./FormSection-C4frYFZo.js";import{_ as i}from"./InputError-Q0nAU3YA.js";import{_ as r}from"./InputLabel-C6JpGoed.js";import{_ as j}from"./PrimaryButton-C8esBnWy.js";import{_ as d}from"./TextInput-BmWQy6Cl.js";import{_ as B}from"./DialogModal-CGYIJ1UD.js";import"./SectionTitle-BzC1LDHM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-CHsxTQ40.js";const G={class:"flex items-center justify-center w-full"},I={class:"bg-white p-6 rounded shadow w-full"},W=s("h2",{class:"text-xl font-semibold mb-4"}," Añadir categoría ",-1),z=s("p",{class:"text-gray-700"},null,-1),R={class:"grid grid-cols-2 gap-4"},q={class:"grid grid-cols-1"},H={class:"flex justify-between"},J={class:"col-span-6 sm:col-span-3"},K={class:"col-span-6 sm:col-span-3"},Q={class:"flex justify-between items-center"},X=s("option",{value:"null",class:"bg-gray-100",disabled:""},"-- Seleccionar categoria --",-1),Y=["value"],Z={class:"col-span-6 py-3 grid grid-cols-6 gap-6"},ee={class:"col-span-6 sm:col-span-3"},oe={class:"col-span-6 sm:col-span-3 relative"},se={class:"col-span-6 sm:col-span-2"},ae=s("option",{value:"null",class:"bg-gray-100",disabled:""}," -- Seleccione un tipo de solicitud -- ",-1),te=s("option",{value:"Llamada"},"Llamada",-1),le=s("option",{value:"E-mail"},"Correo",-1),ne=s("option",{value:"WhatsApp"},"WhatsApp",-1),re=s("option",{value:"Página"},"Página de Internet",-1),ie=[ae,te,le,ne,re],de={class:"col-span-6 sm:col-span-2"},ce=s("option",{value:"null",class:"bg-gray-100",disabled:""}," -- Seleccione un método de pago -- ",-1),ue=s("option",{value:"Efectivo"},"Efectivo",-1),pe=s("option",{value:"Credito"},"Crédito",-1),me=s("option",{value:"Transferencia"},"Transferencia",-1),_e=[ce,ue,pe,me],ge={class:"col-span-2 sm:col-span-2"},ye={key:0,class:"col-span-2"},fe={key:1,class:"col-span-2"},ve={key:2,class:"col-span-2"},be={key:3,class:"col-span-2"},he={class:"col-span-4"},we=s("option",{value:"null",class:"bg-gray-100",disabled:""},"-- Seleccione estado de pago --",-1),Ve=s("option",{value:"Pagado",class:"bg-green-200"},"RECIBIDO / PAGADO",-1),Ce=s("option",{value:"Pendiente de pago",class:"bg-red-200"},"PENDIENTE DE PAGO",-1),xe=[we,Ve,Ce],Fe={__name:"CreateSupplierForm",props:{supplier:Object,categories:Array},setup(P){const n=P;console.log(n.categories);const g=A(),e=k({category_id:n.supplier.category_id||null,fiscal_name:n.supplier.fiscal_name||"",trade_name:n.supplier.trade_name||"",responsible_contact:n.supplier.responsible_contact||"",phone:n.supplier.phone||"",mail:n.supplier.mail||"",payment_method:n.supplier.payment_method||null,credit_days:n.supplier.credit_days??"",application_type:n.supplier.application_type||null,seal_type:n.supplier.seal_type||null,web_url:n.supplier.weburl||""}),U=()=>{e.post(route("supplier.store"),{preserveScroll:!0,onSuccess:()=>{g.success("Proveedor añadido correctamente"),e.reset(),L.push(route("supplier.index"))},onError:()=>{g.error("Hubo un error, recargue la página e intente de nuevo")}})},v={id:null,name:null,is_active:!0},p=V({...v}),b=V(!1),E=()=>{p.value={...v},b.value=!0},h=V([...n.categories]),T=()=>{const x=k({name:p.value.name,is_active:p.value.is_active});return O.post(route("api.product-categories.store"),x).then(t=>{const l=t.data.category;h.value.push(l),console.log("Nuevo:",t.data.category),g.success("Categoría añadida correctamente"),w()}).catch(t=>{console.error(t),g.error("Hubo un error al añadir la categoría.")}),h},w=()=>{b.value=!1,p.value={...v}};return(x,t)=>(c(),u(S,null,[s("section",null,[a(B,{show:b.value,onClose:w},{title:m(()=>[s("div",G,[s("div",I,[W,z,s("form",R,[s("div",q,[a(r,{for:"category",value:"Familia"}),a(d,{id:"category_name",class:"w-full",modelValue:p.value.name,"onUpdate:modelValue":t[0]||(t[0]=l=>p.value.name=l)},null,8,["modelValue"])])]),s("div",H,[s("button",{onClick:w,class:"mt-4 bg-red-600 text-white px-2 py-2 rounded hover:bg-red-800"}," Cancelar "),s("button",{onClick:t[1]||(t[1]=l=>T()),class:"mt-4 bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-800"}," Guardar ")])])])]),_:1},8,["show"])]),a(M,{onSubmitted:U},{title:m(()=>[C(" Detalles del nuevo Provedor ")]),description:m(()=>[C(" Registrar un nuevo provedor. ")]),form:m(()=>[s("div",J,[a(r,{for:"fiscal_name",value:"Razón Social"}),a(d,{id:"fiscal_name",modelValue:o(e).fiscal_name,"onUpdate:modelValue":t[2]||(t[2]=l=>o(e).fiscal_name=l),type:"text",class:"block w-full mt-1",autofocus:""},null,8,["modelValue"]),a(i,{message:o(e).errors.fiscal_name,class:"mt-2"},null,8,["message"])]),s("div",K,[s("div",Q,[a(r,{for:"category",value:"Familia"}),s("button",{onClick:t[3]||(t[3]=l=>E()),type:"button",class:"text-indigo-500 underline text-xs cursor-pointer hover:bg-indigo-100 rounded duration-150 ring-indigo-600 active:ring-2 active:text-indigo-600"},"Agregar categoría")]),_(s("select",{required:"","onUpdate:modelValue":t[4]||(t[4]=l=>o(e).category_id=l),id:"category",autocomplete:"category_id",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},[X,(c(!0),u(S,null,D(h.value,l=>(c(),u("option",{key:l.id,value:l.id},N(l.name),9,Y))),128))],512),[[y,o(e).category_id]]),a(i,{message:o(e).errors.category_id,class:"mt-2"},null,8,["message"])]),s("div",Z,[s("div",ee,[a(r,{for:"trade_name",value:"Nombre comercial"}),a(d,{id:"trade_name",modelValue:o(e).trade_name,"onUpdate:modelValue":t[5]||(t[5]=l=>o(e).trade_name=l),type:"text",class:"mt-1 block w-full",autocomplete:"trade_name"},null,8,["modelValue"]),a(i,{message:o(e).errors.trade_name,class:"mt-2"},null,8,["message"])]),s("div",oe,[a(r,{for:"responsible_contact",value:"Contacto responsable"}),a(d,{id:"responsible_contact",modelValue:o(e).responsible_contact,"onUpdate:modelValue":t[6]||(t[6]=l=>o(e).responsible_contact=l),class:"mt-1 block w-full",autocomplete:"responsible_contact"},null,8,["modelValue"]),a(i,{message:o(e).errors.responsible_contact,class:"mt-2"},null,8,["message"])])]),s("div",se,[a(r,{for:"application-type",value:"Tipo de Solicitud"}),_(s("select",{required:"","onUpdate:modelValue":t[7]||(t[7]=l=>o(e).application_type=l),id:"application-type",autocomplete:"application_days",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},ie,512),[[y,o(e).application_type]]),a(i,{message:o(e).errors.application_type,class:"mt-2"},null,8,["message"])]),s("div",de,[a(r,{for:"payment",value:"Método de Pago"}),_(s("select",{id:"payment","onUpdate:modelValue":t[8]||(t[8]=l=>o(e).payment_method=l),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},_e,512),[[y,o(e).payment_method]]),a(i,{message:o(e).errors.payment_method,class:"mt-2"},null,8,["message"])]),s("div",ge,[a(r,{for:"credit-days",value:"Dias de Crédito"}),_(s("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=l=>o(e).credit_days=l),id:"credit-days",autocomplete:"credit_days",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},null,512),[[$,o(e).credit_days]]),a(i,{message:o(e).errors.credit_days,class:"mt-2"},null,8,["message"])]),o(e).application_type==="E-mail"?(c(),u("div",ye,[a(r,{for:"email",value:"Correo Electronico"}),a(d,{id:"mail",modelValue:o(e).mail,"onUpdate:modelValue":t[10]||(t[10]=l=>o(e).mail=l),type:"text",class:"block w-full mt-1"},null,8,["modelValue"]),a(i,{message:o(e).errors.mail,class:"mt-2"},null,8,["message"])])):f("",!0),o(e).application_type==="Llamada"||o(e).application_type==="WhatsApp"?(c(),u("div",fe,[a(r,{for:"phone",value:"Teléfono"}),a(d,{id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":t[11]||(t[11]=l=>o(e).phone=l),type:"text",class:"mt-1 block w-full",autocomplete:"phone"},null,8,["modelValue"]),a(i,{message:o(e).errors.phone,class:"mt-2"},null,8,["message"])])):f("",!0),o(e).application_type==="Call"||o(e).application_type==="Whatsapp"?(c(),u("div",ve,[a(r,{for:"phone",value:"Teléfono"}),a(d,{id:"phone",modelValue:o(e).phone,"onUpdate:modelValue":t[12]||(t[12]=l=>o(e).phone=l),type:"text",class:"mt-1 block w-full",autocomplete:"phone"},null,8,["modelValue"]),a(i,{message:o(e).errors.phone,class:"mt-2"},null,8,["message"])])):f("",!0),o(e).application_type==="Página"?(c(),u("div",be,[a(r,{for:"web",value:"Página web"}),a(d,{id:"website",modelValue:o(e).web_url,"onUpdate:modelValue":t[13]||(t[13]=l=>o(e).web_url=l),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),a(i,{message:o(e).errors.web_url,class:"mt-2"},null,8,["message"])])):f("",!0),s("div",he,[a(r,{for:"seal-type",value:"Tipo de sello"}),_(s("select",{id:"seal-type","onUpdate:modelValue":t[14]||(t[14]=l=>o(e).seal_type=l),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},xe,512),[[y,o(e).seal_type]]),a(i,{message:o(e).errors.seal_type,class:"mt-2"},null,8,["message"])])]),actions:m(()=>[a(j,{class:F({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:m(()=>[C(" Guardar ")]),_:1},8,["class","disabled"])]),_:1})],64))}};export{Fe as default};
