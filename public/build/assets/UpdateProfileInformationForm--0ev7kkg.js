import{p as G,T as L,r as v,o as h,c as F,w as m,e as g,d as $,a as t,b as e,k as I,q as x,s as M,h as N,g as B,u as o,f as R,t as Q,F as H,n as J,O as K}from"./app-BQpxwe5_.js";import{_ as O}from"./SecondaryButton-C6eL9Svd.js";import{_ as W}from"./PrimaryButton-Dpc8Cd0p.js";import{_ as X}from"./ActionMessage-CmedOjQ9.js";import{_ as Y}from"./FormSection-B4tMc3ZT.js";import{a as d,_ as i}from"./TextInput-CtVwIK57.js";import{_ as c}from"./InputLabel-DVdndcEi.js";import"./SectionTitle-TxtKaYxH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={key:0,class:"col-span-6 sm:col-span-4"},ee={class:"mt-2"},se=["src","alt"],le={class:"mt-2"},ae={class:"col-span-6 sm:col-span-4"},oe={class:"col-span-6 sm:col-span-4"},te={class:"col-span-6 sm:col-span-4"},ne={class:"col-span-6 sm:col-span-4"},re={class:"col-span-6 py-3 sm:col-span-4 grid grid-cols-6 gap-6"},ue={class:"col-span-6 sm:col-span-3"},de={class:"col-span-6 sm:col-span-3"},ce={id:"gender",name:"gender",autocomplete:"gender",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},me=["value","selected"],ie={class:"hidden col-span-6 py-3 sm:col-span-4 grid grid-cols-6 gap-6"},pe={class:"col-span-6 sm:col-span-3"},ge={class:"col-span-6 sm:col-span-3"},fe={class:"col-span-6 sm:col-span-3"},Se={__name:"UpdateProfileInformationForm",props:{customer:Object,sale:Object},setup(n){var _,w,V,y,k,P,S,z,C,U;const T=G(),r=n;console.log(r.customer);const s=L({_method:"POST",name:((_=r.customer)==null?void 0:_.name)??null,email:((w=r.customer)==null?void 0:w.email)??null,phone:((V=r.customer)==null?void 0:V.phone)??null,address:((y=r.customer)==null?void 0:y.address)??null,age:((k=r.customer)==null?void 0:k.age)??null,weight:((P=r.customer)==null?void 0:P.weight)??null,height:((S=r.customer)==null?void 0:S.height)??null,gender:((z=r.customer)==null?void 0:z.gender)??null,size:((C=r.customer)==null?void 0:C.size)??null,activity:((U=r.customer)==null?void 0:U.activity)??null,status:null,photo:null});v(null);const f=v(null),p=v(null),j=()=>{p.value&&(s.photo=p.value.files[0]),s.post(route("customers.store"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>{b(),s.reset(),T.success("Cliente registrado con éxito.")}})},q=()=>{p.value.click()},D=()=>{const u=p.value.files[0];if(!u)return;const a=new FileReader;a.onload=l=>{f.value=l.target.result},a.readAsDataURL(u)},E=()=>{K.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{f.value=null,b()}})},b=()=>{var u;(u=p.value)!=null&&u.value&&(p.value.value=null)},A={pagada:"Pagada",pendiente:"Pendiente",cancelada:"Cancelada",entregada:"Entregada",cotizada:"Cotizada"};return(u,a)=>(h(),F(Y,{onSubmitted:j},{title:m(()=>[g(" Información de la venta ")]),description:m(()=>[g(" Mas detalles sobre la orden de venta ")]),form:m(()=>[u.$page.props.jetstream.managesProfilePhotos?(h(),$("div",Z,[t("input",{id:"photo",ref_key:"photoInput",ref:p,type:"file",class:"hidden",onChange:D},null,544),e(c,{for:"photo",value:"Foto"}),I(t("div",ee,[t("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,se)],512),[[x,!f.value]]),I(t("div",le,[t("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:M("background-image: url('"+f.value+"');")},null,4)],512),[[x,f.value]]),e(O,{class:"mt-2 me-2",type:"button",onClick:N(q,["prevent"])},{default:m(()=>[g(" Seleccione una nueva foto ")]),_:1}),u.user.profile_photo_path?(h(),F(O,{key:0,type:"button",class:"mt-2",onClick:N(E,["prevent"])},{default:m(()=>[g(" Quitar foto ")]),_:1})):B("",!0),e(d,{message:o(s).errors.photo,class:"mt-2"},null,8,["message"])])):B("",!0),t("div",ae,[e(c,{for:"name",value:"# Numero de orden"}),e(i,{id:"name",modelValue:n.sale.no_order,"onUpdate:modelValue":a[0]||(a[0]=l=>n.sale.no_order=l),type:"text",class:"mt-1 block w-full",required:"","aria-disabled":"true",disabled:"true",autocomplete:"name"},null,8,["modelValue"]),e(d,{message:o(s).errors.name,class:"mt-2"},null,8,["message"])]),t("div",oe,[e(c,{for:"email",value:"Cliente"}),e(i,{id:"email",modelValue:n.sale.customer,"onUpdate:modelValue":a[1]||(a[1]=l=>n.sale.customer=l),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),e(d,{message:o(s).errors.email,class:"mt-2"},null,8,["message"])]),t("div",te,[e(c,{for:"phone",value:"Vendedor"}),e(i,{id:"phone",modelValue:n.sale.seller,"onUpdate:modelValue":a[2]||(a[2]=l=>n.sale.seller=l),type:"text",class:"mt-1 block w-full",autocomplete:"tel"},null,8,["modelValue"]),e(d,{message:o(s).errors.phone,class:"mt-2"},null,8,["message"])]),t("div",ne,[e(c,{for:"address",value:"Sucursal"}),e(i,{id:"address",modelValue:n.sale.branch,"onUpdate:modelValue":a[3]||(a[3]=l=>n.sale.branch=l),type:"text",class:"mt-1 block w-full",autocomplete:"address",disabled:"true",placeholder:"Calle, número, colonia, ciudad, estado, código postal"},null,8,["modelValue"]),e(d,{message:o(s).errors.address,class:"mt-2"},null,8,["message"])]),t("div",re,[t("div",ue,[e(c,{for:"age",value:"Fecha"}),e(i,{id:"age",modelValue:n.sale.date,"onUpdate:modelValue":a[4]||(a[4]=l=>n.sale.date=l),type:"text",class:"mt-1 block w-full",autocomplete:"age",placeholder:"Fecha"},null,8,["modelValue"]),e(d,{message:o(s).errors.age,class:"mt-2"},null,8,["message"])]),t("div",de,[e(c,{for:"gender",value:"Estatus"}),t("select",ce,[(h(),$(H,null,R(A,l=>t("option",{value:l,selected:n.sale.status==l},Q(l),9,me)),64))]),e(d,{message:o(s).errors.gender,class:"mt-2"},null,8,["message"])])]),t("div",ie,[t("div",pe,[e(c,{for:"weight",value:"Peso"}),e(i,{id:"weight",modelValue:o(s).weight,"onUpdate:modelValue":a[5]||(a[5]=l=>o(s).weight=l),type:"text",class:"mt-1 block w-full",autocomplete:"weight",placeholder:"kg"},null,8,["modelValue"]),e(d,{message:o(s).errors.weight,class:"mt-2"},null,8,["message"])]),t("div",ge,[e(c,{for:"height",value:"Altura"}),e(i,{id:"height",modelValue:o(s).height,"onUpdate:modelValue":a[6]||(a[6]=l=>o(s).height=l),type:"number",class:"mt-1 block w-full",autocomplete:"height",placeholder:"cm"},null,8,["modelValue"]),e(d,{message:o(s).errors.height,class:"mt-2"},null,8,["message"])]),t("div",fe,[e(c,{for:"size",value:"Talla"}),e(i,{id:"size",modelValue:o(s).size,"onUpdate:modelValue":a[7]||(a[7]=l=>o(s).size=l),type:"number",class:"mt-1 block w-full",autocomplete:"size",placeholder:"cm"},null,8,["modelValue"]),e(d,{message:o(s).errors.size,class:"mt-2"},null,8,["message"])])])]),actions:m(()=>[e(X,{on:o(s).recentlySuccessful,class:"me-3"},{default:m(()=>[g(" Guardado. ")]),_:1},8,["on"]),e(W,{class:J({"opacity-25":o(s).processing}),disabled:o(s).processing},{default:m(()=>[g(" Guardar ")]),_:1},8,["class","disabled"])]),_:1}))}};export{Se as default};
